#summary Frequently asked questions about Sylverant.
#labels Phase-Implementation,Phase-Design,Phase-Deploy,Phase-Support

<wiki:toc max_depth="1" />

= Why can't any PSOPC/PSOGC users seem to connect to my server? =
Sylverant does not allow users of PSOPC to connect to the server unless they have been previously registered. This decision was made for two reasons: firstly, its my belief that very few PSOPC users will probably be using actual real serial number/access key pairs, and secondly (building off of the first reason) due to how Sylverant doles out Guild Cards to unknown clients. With a blank serial number/access key, all PSOPC clients will be given the same guild card number, which will cause some obvious problems.

In order for a PSOPC client to connect, they must have an entry in the pc_clients table of the database, an assigned guildcard in the guildcards table, as well as a full entry in the account_data table. The pc_clients entry should have the serial number of the client and the access key filled in (convert the serial from decimal to hex).

PSOGC users also need valid accounts, and must be noted in the gamecube_clients table of the database, much like PSOPC users.

= What commands are available to users on Sylverant? =
Here is the list of currently available commands for regular users on the Sylverant ship server:
  * /save `[`slot`]` -- Save the current character data to the server for backup purposes. `[`slot`]` is required and can be between 1 and 4 (inclusive). This command can only be executed in a default lobby, not a game lobby.
  * /restore `[`slot`]` -- Restore the character data from the given slot on the server (saved previously with /save). Be careful when using this command as PSOPC doesn't seem to like you restoring a character that isn't the same as the one you came on the game with. `[`slot`]` is required and can be between 1 and 4 (inclusive). This command can only be executed in a default lobby, not a game lobby.
  * /minlvl `[`level`]` -- Set the minimum required level for the current game lobby. `[`level`]` is required, and must be greater than or equal to the level specified by the game for the difficulty of the game. This command only affects new clients attempting to enter the game, and will not kick anyone currently in the game out. This command can only be executed in a game lobby, not a default lobby. Also, this command is only available to the current team leader.
  * /maxlvl `[`level`]` -- Set the maximum allowed level for the current game lobby. `[`level`]` is required, and must be greater than or equal to the minimum level for the current game lobby. This command only affects new clients attempting to enter the game, and will not kick anyone currently in the game out. This command can only be executed by the team leader and only in a game lobby.
  * /bstat -- Get the number of players and games currently active on the block that you are on. This can be used in a game lobby or a default lobby.
  * /arrow `[`colornumber`]` -- Set the arrow above your head in the lobby (0 = off, max is 10).
  * /lname `[`new lobby name`]` -- Set the name of a game lobby. Only the party leader can use this command.
  * /passwd `[`new lobby password`]` -- Set a new password on a game lobby. Only the party leader can use this command.
  * /bug -- Send user information about reporting a bug.
  * /legit -- This command is only available in game lobbies, and triggers a legit check on the whole team. If the legit check passes (according to the rules on the server), the legit flag is set on the game, which makes it so that anyone coming in must pass the legit check as well. This command can only be used by the party leader.
  * /normal -- Undo the /legit command, if the flag actually got set on the lobby. This command can only be used by the party leader.
  * /friendadd `[`guildcard`]` -- Add a user to your friend list.
  * /frienddel `[`guildcard`]` -- Remove a user from your friend list.

= What additional commands are available to GMs on Sylverant? =
  * /kill `[`guildcard`]` `[`reason`]` -- Kick the specified user from the server. `[`guildcard`]` is a required field and must be a numeric guild card number. `[`reason`]` is an optional field that will tell the user why they were kicked from the server. This *does not* ban the user from the server.
  * /warp `[`area`]` -- Warp to the specified map. `[`area`]` is a required field, and must be between 0 and 17. This command does not work on PSOv1. This command only works in game lobbies.
  * /warpall `[`area`]` -- Warp everyone in a lobby to the specified map. Has the same semantics as the /warp command. This will not warp anyone on PSOv1, just like /warp.
  * /refresh `[`what`]` -- Refresh some server data. `[`what`]` is a required field and must either be the string "gms" or "quests" (currently). It should be obvious what each does.
  * /bcast `[`message`]` -- Send a global message to all players on the current ship.
  * /login `[`username`]` `[`password`]` -- Login as a global GM, granting full GM privileges on the ship if login is successful.
  * /item `[`item1`]`,`[`item2`]`,`[`item3`]`,`[`item4`]` -- Set the next item that will be generated when *your character* hits a box. `[`item1`]` is the only strictly necessary argument here, the rest will default to 0. Note, these are all 32-bit hex values. If you change your mind, to clear it out, make `[`item1`]` be 0 by using this command again. There are only commas between the arguments, no spaces!
  * /item4 `[`item4`]` -- Set the 4th 32-bit hex value for the next item to be generated. Most versions of PSO don't give you enough space to put in all 4 things in the above command, if you need to use all digits, but you will have enough for at least 3. This is to set the last one, if you run out of room.
  * /event `[`event code`]` -- Set the current event in lobbies (default lobbies will be updated immediately (default lobby events are not supported on PSOPC/PSODC, apparently), only game lobbies created after this command is used will get the new event).
  * /clinfo `[`client id`]` -- Get some information about a client (name, guildcard, IP address, class and level), which can be useful for administrative commands like /kill. Note that the `[`client id`]` is the index of the player in the lobby -- NOT their guildcard number.
  * /gban:d `[`guildcard`]` `[`reason`]` -- Ban the specified user from the server (globally) for one day. Also available are /gban:w (ban for one week), /gban:m (ban for 1 month), and /gban:p (Permanently ban). This will implicitly /kill the player as well if they're currently connected.
  * /list `[`domain`]` `[`arguments`]` -- List all players in the given domain (l for current lobby, b for current block, s for current ship) that satisfy the list of arguments as well as various information about them (guildcard number, IP address, lobby, etc). The list of arguments can include several types of specifiers (separated by spaces) including:
    * p `[`number`]`: The page number of results to display.
    * n `[`name regular expression`]`: A POSIX-style regular expression to run against the names of clients. This is case-insensitive.
    * mnlv `[`level`]`: The minimum level of characters to display.
    * mxlv `[`level`]`: The maximum level of characters to display.
    * lv `[`level`]`: Only display characters of the specified level (a shortcut for specifying mxlv and mnlv with the same value).
    * c `[`class`]`: The class of the character (case-insensitive).
  * /shutdown `[`minutes`]` -- This command is only available to global and local root users, and schedules the ship for a graceful shutdown in the specified number of minutes. It broadcasts a message to all users that the ship is going down for shutdown, and makes the ship not accept any further incoming connections.
  * /log `[`guildcard`]` -- Start logging all packets sent to or from the specified guildcard. You must be a local or global root to use this command.
  * /endlog `[`guildcard`]` -- Stop logging packets on a client that has had packets logged by running the /log command. Like that command, you must be a local or global root to use this command.