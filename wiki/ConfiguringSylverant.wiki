#summary Configuring Sylverant Login/Patch Server and Shipgate.
#labels Phase-Deploy

= Introduction =

Login/Patch Servers and Shipgate are all configured with one file, sylverant_config.xml. This file is generally stored in the config subdirectory of the /usr/local/share/sylverant directory (generally, this can be configured at libsylverant compile time). The structure of this file is shown below.

{{{
<?xml version="1.0" encoding="UTF-8"?>

<sylverant_config>
    <database type="mysql" host="DB Host" user="DB User" pass="DB Password"
     db="Database Name" port="DB Port" />
    <server addr="Server IP" port="12000" netmask="Server Netmask" />
    <welcome message="Welcome to Sylverant." />
    <colors globalGM="0x1D94F7" localGM="0xB0CEDE" user="0xFFFFFF" />
    <raremonsters hildebear="250" rappy="777" lilly="450" slime="250"
     merissa="250" pazuzu="250" dorphon="250" kondrieu="20000" />
    <quests dir="Offline Quests Directory" />
</sylverant_config>
}}}

The variables of the file are described below. Note that many of these have not been used since Sylverant has not supported Blue Burst.

  * DB Host: The hostname of the Database for the server. This must be a MySQL database at the current time. It is recommended to run this on the same machine as the Login Server and Shipgate, but this isn't strictly required.
  * DB User: The username for accessing the database.
  * DB Password: The password for the user specified before.
  * Database Name: The name of the database that stores the tables for the server.
  * DB Port: The port to access the MySQL server on.
  * Server IP: The publicly accessible IP address of the server.
  * Server Netmask: The netmask on the local subnet of the server.
  * Offline Quests Directory: The directory that is the root of the offline quests tree. This allows the login server to serve downloadable quests to clients (see ConfiguringQuests for more information)

The rest of the variables aren't used currently, and will probably be removed at some point (at least until they're useful again).

= Patch Server Patches =

The patch server requires two things of its own to configure it, a welcome message and patches. Patches aren't actually necessary, but the welcome message is. The welcome message should be called "patch_welcome" and be in the same directory as the configuration files. This file is encoded as UTF-16 plain text (little-endian, with or without a BOM, it *MUST* be little-endian).

Patches are generally in the patches subdirectory of the Sylverant directory. The root of the directory will correspond to the root of the PSO directory. Each patch is just a file that is force-downloaded to clients when the client connects.